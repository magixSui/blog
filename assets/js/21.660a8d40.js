(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{187:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"xmlhttprequest"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xmlhttprequest","aria-hidden":"true"}},[t._v("#")]),t._v(" XMLHttpRequest")]),t._v(" "),e("p",[t._v("XMLHttpRequest 可以从 url 获取数据，只更新页面局部而不影响用户操作，在 Ajax 技术中大量应用。继承了\nXMLHttpRequestEventTarget 和 EventTarget 的属性。")]),t._v(" "),e("h2",{attrs:{id:"属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#属性","aria-hidden":"true"}},[t._v("#")]),t._v(" 属性")]),t._v(" "),e("ul",[e("li",[t._v("onreadystatechange 当readyState属性发生变化时调用的EventHandler。")]),t._v(" "),e("li",[t._v("readyState readonly 返回 一个unsigned short 即无符号短整型，请求的状态码。")]),t._v(" "),e("li",[t._v("response readonly 返回ArrayBuffer、Blob、Document、DOMString，具体是哪种类型取决于XMLHttpRequest.responseType的值。其中包含响应体body。")]),t._v(" "),e("li",[t._v("responseText readonly 返回一个DOMString，该DOMString包含对请求的响应，如果请求未成功或尚未发送，则返回null。")]),t._v(" "),e("li",[t._v("responseType 定义响应类型的枚举值。")]),t._v(" "),e("li",[t._v("responseURL readonly 返回响应的序列化URL，如果URL为空，则返回空字符串。")]),t._v(" "),e("li",[t._v("responseXML readonly 返回一个Document，其中包含该请求的响应，如果请求未成功、尚未发送或不能解析为XML或HTML，则返回null。")]),t._v(" "),e("li",[t._v("status readonly 返回  unsigned short 即无符号短整型请求响应状态。")]),t._v(" "),e("li",[t._v("statusText  readonly 返回一个DOMString，其中包含HTTP服务器返回的响应状态。与 XMLHTTPRequest.status不同的是，它包括响应状态的整个文本(例如，“200 OK”)。")]),t._v(" "),e("li",[t._v("timeout unsigned long 即无符号长整型，表示该请求的最大请求时间（毫秒），超过该时间请求会自动结束。")]),t._v(" "),e("li",[t._v('ontimeout 当请求超时调用的EventHandler。{ { gecko_minversion_inline(" 12.0 ")} }')]),t._v(" "),e("li",[t._v("upload  readonly XMLHttpRequestUpload，表示上传过程。")]),t._v(" "),e("li",[t._v("withCredentials Boolean，用来指定跨域的请求是否应该使用证书（如cookie或授权header头）。")]),t._v(" "),e("li",[t._v("channel  readonly nsIChannel，对象在执行请求时使用的通道。")]),t._v(" "),e("li",[t._v("mozAnon  readonly 一个布尔值，如果为真，请求将在没有cookie和身份验证header头的情况下发送")]),t._v(" "),e("li",[t._v("mozSystem  readonly 一个布尔值，如果为真，则在请求时不会强制执行同源策略。")]),t._v(" "),e("li",[t._v("mozBackgroundRequest 一个布尔值，它指示对象是否是后台服务器端的请求。")])]),t._v(" "),e("h2",{attrs:{id:"方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#方法","aria-hidden":"true"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),e("p",[t._v("XMLHttpRequest.abort()")]),t._v(" "),e("p",[t._v("如果请求已经被发送,则立刻中止请求.")]),t._v(" "),e("p",[t._v("XMLHttpRequest.getAllResponseHeaders()")]),t._v(" "),e("p",[t._v("以字符串的形式返回所有用CRLF分隔的响应头，如果没有收到响应，则返回null。")]),t._v(" "),e("p",[t._v("XMLHttpRequest.getResponseHeader()")]),t._v(" "),e("p",[t._v("返回包含指定响应头的字符串，如果响应尚未收到或响应中不存在该报头，则返回null。")]),t._v(" "),e("p",[t._v("XMLHttpRequest.open()")]),t._v(" "),e("p",[t._v("初始化一个请求。该方法只能JavaScript代码中使用，若要在native code中初始化请求，请使用openRequest()。")]),t._v(" "),e("p",[t._v("XMLHttpRequest.overrideMimeType()")]),t._v(" "),e("p",[t._v("重写由服务器返回的MIME type。")]),t._v(" "),e("p",[t._v("XMLHttpRequest.send()")]),t._v(" "),e("p",[t._v("发送请求。如果请求是异步的（默认），那么该方法将在请求发送后立即返回。")]),t._v(" "),e("p",[t._v("XMLHttpRequest.setRequestHeader()")]),t._v(" "),e("p",[t._v("设置HTTP请求头的值。您必须在open()之后、send()之前调用setRequestHeader()这个方法。")]),t._v(" "),e("h2",{attrs:{id:"ajax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax","aria-hidden":"true"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),e("p",[t._v("Ajax 是 Jesse James Garrett 在 2005 年提出的新术语。它基于现有技术的集合，更快速的获取网页的资源，而不需要重载网页。\n简单来说，Ajax 就是利用 XMLHttpRequest 与服务器通讯。")]),t._v(" "),e("h3",{attrs:{id:"发送-http-请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发送-http-请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 发送 http 请求")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" httpRequest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("XMLHttpRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mozilla, Safari, IE7+ ...")]),t._v("\n  httpRequest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ActiveObject"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// IE 6 and older")]),t._v("\n  httpRequest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ActiveObject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Microsoft.XMLHTTP"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("发送请求后会收到响应，需要告诉服务器由哪个方法来处理响应 -- handler。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("httpRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onreadystatechange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Process the server response here.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("发送实际的请求")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("httpRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://www.example.org/some.file'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nhttpRequest"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}],!1,null,null,null);s.default=n.exports}}]);